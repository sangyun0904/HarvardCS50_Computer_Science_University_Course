# Lesson5. Memory 

메모리의 위치를 표현할때 16진수를 사용한다. 
16 진수는 16진수인것을 알리기 위해 앞에 0x를 붙인다. 

C에서 &는 변수의 메모리 주소를 반환해준다. 반대로 *는 주소에 들어있는 값을 반환해준다.

### Pointers
C언어에는 다른 컴퓨터 언어와 다르게 pointer라는 개념이 존재한다. pointer는 어떤 값의 주소를 저장하는 변수이다. 즉 쉽게 말하면 포인터는 주소이다.

int n = 50;

int *p = &n;

char a[], int b[] 와 같이 배열의 변수 a, b에는 배열 첫번째 값의 주소가 저장된다. 배열은 각각의 값들을 나란히 저장하기 때문에 첫번째 값의 주소와 인덱스 만으로 모든 값들을 가져올 수 있는 것이다. 

### malloc, free 
malloc은 개발자가 요청한 byte 수에 따라 메오리에 비어있는 공간의 주소를 리턴해준다. 
free 는 반대로 OS에게 이 주소의 메모리 사용이 끝났다고 알릴 때 사용한다.
malloc에 의해 계속 비어있는 메모리를 요구하고 사용하고 free를 해주지 않으면 결국 사용 가능한 메모리가 바닥나 컴퓨터가 멈추거나 또는 재부팅 해야하는 오류가 발생한다.
C언어에서 stdlib.h 라이브러리를 통해 메모리를 직접 관리할 수 있다. 

### 프로그램 실행 이후 메모리 할당
./code 명령어를 치는 순간 즉 프로그램을 실행하는 순간 컴퓨터 메모리에 machine code라고 부르는 공간에 바이너리 코드가 올라간다. 
그 밑에는 globals 라는 공간이 생기는데 global 변수가 메모리에 들어간다. 
그 밑에 heap 라는 공간에 malloc에 의해 요청된 메모리들이 올라간다. heap 공간은 malloc이 메모리를 불러올수록 점점 커진다. 
그 밑에 stack에는 코드에 의해 작성된 함수들이 올라가고 실제 그 함수가 사용될 때 heap 메모리 공간으로 올라간다. 
그래서 함수가 실제로 사용될 때 heap 메모리 공간을 차지하기 때문에 불필요하게 같은 함수를 중복해서 사용하면 메모리 부족 버그가 생길 수 있다. 
함수가 끝나면 heap 메모리에서 자동으로 free 되지만 garbage value들은 남아있다. 